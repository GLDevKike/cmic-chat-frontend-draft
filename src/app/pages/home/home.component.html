<div class="chat-layout">
  <div class="chat-header">
    <img src="assets/images/logo-cmic.png" alt="CMIC Logo" class="logo" />
    <h1>¡Hola! Bienvenido</h1>
    <p class="description">
      Pregunta sobre la cobertura, calidad del servicio, fallas reportadas y
      ubicación de estaciones móviles en cualquier municipio de Colombia. Obtén
      respuestas claras y actualizadas por operador y tecnología.
    </p>
  </div>

  <div class="chat-content">
    <div class="question-panel">
      <form [formGroup]="form" (ngSubmit)="doSend()">
        <app-card title="Haz tu pregunta" [hasFooter]="true">
          <app-text-area
            [control]="question"
            [rows]="14"
            [cols]="51"
            [autoResize]="true"
            variant="filled"
            placeholder="Escribe tu pregunta aquí..."
          ></app-text-area>

          <div footer>
            <app-button
              [disabled]="form.invalid || isLoading"
              [isLoading]="isLoading"
              label="Enviar"
              size="large"
              icon="pi pi-arrow-right"
              type="submit"
              severity="info"
            ></app-button>
          </div>
        </app-card>
      </form>
    </div>

    <div class="response-panel">
      <app-card title="Respuesta">
        @if (isLoading && messages.length === 0) {
        <div class="no-response">
          <p>Cargando respuesta...</p>
        </div>
        } @else if (messages.length > 0) {
        <div class="response-content">
          <p>{{ messages.join("") }}</p>
        </div>
        } @else {
        <div class="no-response">
          <i class="pi pi-comment"></i>
          <p>Tu respuesta aparecerá aquí...</p>
        </div>
        }
      </app-card>
    </div>
  </div>
</div>
